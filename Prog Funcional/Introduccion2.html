<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        // Devolver un objeto
        // const crearObjeto = (nombre)=>{
        //     return {
        //         id:"id-"+nombre,
        //         name:nombre
        //     }
        // }

        // const crearObjeto = nombre => {
        //     id:"id-"+nombre
        // } // No es correcto, no devuelve nada

        const crearObjeto = nombre => ({
                id:"id-"+nombre,
                name:nombre
            }) // Lo que va entre parentesis es una expresion a resolver

        const operacion = (3+5)*5

        console.log(crearObjeto("Tzuzul"))

        //Callback: Es pasar como parametro la referencia una funcion a otra funcion para ejecutarla
        //Objetivo: crear funciones más reutilizables

        function lanzarMensaje(){
            alert("Saludo")
        }

        //lanzarMensaje es un callback
        //setInterval(lanzarMensaje,5000)// time in ms: 5000ms -> 5s


        //Crear un callback
        const formatObjectV1 = (error,object) => {

            if(error){
                console.log(error)
            }else{
                let string = ""

                for(let [key,value] of Object.entries(object)){
                    string += `${key}: ${value} | `
                }

                return string
            }  
        }

        // Error first callback
        const formatObjectV2 = (error,object) => {
            if(error){
                console.log(error)
            }else{
                let string = ""

                for(let [key,value] of Object.entries(object)){
                    console.log(value)
                    string += `${key}: ${value} , `
                }

                return string
            }
        }

        console.log(formatObjectV2({name:"Tzuzul",age:23}))


        const mostrarDatos = (formatFunction,object) =>{
            console.log(typeof formatFunction)
            formatFunction({error:true,message:"Hubo un error"},null)
            //document.write(formatFunction(null,object))
        }

        mostrarDatos(formatObjectV1,{name:"Tzuzul",age:23})
        mostrarDatos(formatObjectV2,{name:"Tzuzul",age:23})

        // Funciones utiles en JS

        // Funciones relacionadas a arrays:

        const fruits = ["🍎","🍊","🍉","🍎","🍌","🍓","🍇","🫐","🍐","🍎","🍊","🍉","🍌","🍓","🍇","🫐","🍐"]

        console.log(fruits)

        // Iterar sobre cada uno de los elementos
        // for(let fruit of fruits){
        //     console.log(fruit)
        // }

        // Iterar sobre cada uno de los elementos
        fruits.forEach(fruit=>{
            console.log(fruit)
        })

        //Devuelve un nuevo arreglo con los datos modificados
        // const comiendoFrutas = fruits.map(function(fruit){
        //     return "Comiendo una fruta: "+fruit
        // })

        // Esto es lo mismo que la funcion de arriba
        const comiendoFrutas = fruits.map(fruit=>"Comiendo una fruta: "+fruit)

        console.log(comiendoFrutas)

        // Agrega a un nuevo arreglo los elementos que coinciden con la condicion
        // const frutasFiltradas = fruits.filter(function(fruit){
        //     return fruit==="🍎"
        // })
        const frutasFiltradas = fruits.filter(fruit=>fruit==="🍎"||fruit==="🍉")

        console.log(frutasFiltradas)

        // Uniendo funciones para arreglos

        fruits.filter(fruit=>fruit==="🍎"||fruit==="🍉")
        .map(fruit=>fruit==="🍎"?"🍏":"🍍")
        .forEach(fruit=>{
            document.write(`<p>${fruit}</p>`)
        })

        //Reducir todo el arreglo a un solo valor

        const apples = fruits.reduce((pv,fruit)=>{
            console.log(pv)
            if(fruit==="🍎"&&pv==="🍎"){
                return 2
            }else if(fruit==="🍎"){
                return pv+1
            }else{
                return pv
            }
        })

        
        console.log(apples)
        
        const numbers = [1,2,3,4,5,6,7,8,9,10,11,12,13,5,4,3,2,1]
        const orderedFruits = fruits.sort()
        
        console.log(orderedFruits)
        console.log(numbers.sort())
        
        
        const orderedFruitsCustom = fruits.sort((fruit1,fruit2)=>{
            
            console.log("Frutas:")
            console.log(fruit1)
            console.log(fruit2)


            return -1

        })
        const orderedNumbersCustom = numbers.sort((n1,n2)=>{
            
            console.log("Frutas:")
            console.log(n1)
            console.log(n2)


            //Numero negativo: n1 va antes que n2 -> descendente
            //Numero positivo: n2 va antes que n1 -> ascendente
            return n2-n1

        })

        console.log(orderedNumbersCustom)

        

    </script>
</body>
</html>